"use strict";console.debug("jalaali.js is loaded");const jalaaliCalendar={daysOfMonths:[31,31,31,31,31,31,30,30,30,30,30,29],cumulativeDaysOfMonths:[0,31,62,93,124,155,186,216,246,276,306,336,365],EpochPersianYear:1348,EpochPersianMonth:9,EpochPersianDayOfMonth:11,nextYearAfterEpoch:1349,week:["شنبه","یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه"],months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],farsiDigit:['۰','۱','۲','۳','۴','۵','۶','۷','۸','۹'],transFarsiDigits:function(s){var res="";for(var i=0;i<s.length;i+=1){var code=s.charCodeAt(i);if(48<=code&&code<=57){res+=this.farsiDigit[code-48]}else{res+=s.charAt(i)}}return res},convertToJalaali:function(time){let aMinuteLong=60;let anHourLong=60*aMinuteLong;let oneDayLong=24*anHourLong;let dayOfYearOfEpoch=this.cumulativeDaysOfMonths[this.EpochPersianMonth]+this.EpochPersianDayOfMonth;let passedDaysFromEpochToEndOf1348=365-dayOfYearOfEpoch+1;let UnixTimeAtEndOf1348=passedDaysFromEpochToEndOf1348*oneDayLong;var year,month,weekday,day;if(time<=UnixTimeAtEndOf1348){year=this.EpochPersianYear;let offsetDays=Math.floor(time/oneDayLong);weekday=(offsetDays+3)%7;month=this.EpochPersianMonth;day=offsetDays+this.EpochPersianDayOfMonth;while(day>this.daysOfMonths[month]){day-=this.daysOfMonths[month];month+=1}}else{const daysInFourYearPeriod=1461;let totalDaysFrom1349=Math.floor((time-UnixTimeAtEndOf1348)/oneDayLong)+1;weekday=(totalDaysFrom1349+6)%7;let fourYearPeriods=Math.floor(totalDaysFrom1349/daysInFourYearPeriod);let reminderDays=totalDaysFrom1349%daysInFourYearPeriod;year=this.nextYearAfterEpoch+4*fourYearPeriods;if(reminderDays==0){reminderDays=365;year-=1}else{if(reminderDays>365){year+=1;reminderDays-=365}if(reminderDays>365){year+=1;reminderDays-=365}if(reminderDays>366){year+=1;reminderDays-=366}}if(reminderDays==366){month=11;day=30}else{month=0;while(reminderDays>this.daysOfMonths[month]){reminderDays-=this.daysOfMonths[month];month+=1}day=reminderDays}}return this.week[weekday]+" "+this.transFarsiDigits(day.toString())+" "+this.months[month]+" "+this.transFarsiDigits(year.toString())}};
